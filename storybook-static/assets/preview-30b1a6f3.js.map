{"version":3,"file":"preview-30b1a6f3.js","sources":["../../node_modules/@storybook/addon-backgrounds/dist/preview.mjs"],"sourcesContent":["import { useEffect, useMemo } from 'storybook/internal/preview-api';\nimport { global } from '@storybook/global';\nimport { logger } from 'storybook/internal/client-logger';\nimport { dedent } from 'ts-dedent';\n\nvar PARAM_KEY=\"backgrounds\";var DEFAULT_BACKGROUNDS={light:{name:\"light\",value:\"#F8F8F8\"},dark:{name:\"dark\",value:\"#333\"}};var{document,window}=global,isReduceMotionEnabled=()=>!!window?.matchMedia(\"(prefers-reduced-motion: reduce)\")?.matches,clearStyles=selector=>{(Array.isArray(selector)?selector:[selector]).forEach(clearStyle);},clearStyle=selector=>{let element=document.getElementById(selector);element&&element.parentElement?.removeChild(element);},addGridStyle=(selector,css)=>{let existingStyle=document.getElementById(selector);if(existingStyle)existingStyle.innerHTML!==css&&(existingStyle.innerHTML=css);else {let style=document.createElement(\"style\");style.setAttribute(\"id\",selector),style.innerHTML=css,document.head.appendChild(style);}},addBackgroundStyle=(selector,css,storyId)=>{let existingStyle=document.getElementById(selector);if(existingStyle)existingStyle.innerHTML!==css&&(existingStyle.innerHTML=css);else {let style=document.createElement(\"style\");style.setAttribute(\"id\",selector),style.innerHTML=css;let gridStyleSelector=`addon-backgrounds-grid${storyId?`-docs-${storyId}`:\"\"}`,existingGridStyle=document.getElementById(gridStyleSelector);existingGridStyle?existingGridStyle.parentElement?.insertBefore(style,existingGridStyle):document.head.appendChild(style);}};var defaultGrid={cellSize:100,cellAmount:10,opacity:.8},BG_SELECTOR_BASE=\"addon-backgrounds\",GRID_SELECTOR_BASE=\"addon-backgrounds-grid\",transitionStyle=isReduceMotionEnabled()?\"\":\"transition: background-color 0.3s;\",withBackgroundAndGrid=(StoryFn,context)=>{let{globals,parameters:parameters2,viewMode,id}=context,{options=DEFAULT_BACKGROUNDS,disable,grid=defaultGrid}=parameters2[PARAM_KEY]||{},data=globals[PARAM_KEY]||{},backgroundName=data.value,item=backgroundName?options[backgroundName]:void 0,value=item?.value||\"transparent\",showGrid=data.grid||!1,shownBackground=!!item&&!disable,backgroundSelector=viewMode===\"docs\"?`#anchor--${id} .docs-story`:\".sb-show-main\",gridSelector=viewMode===\"docs\"?`#anchor--${id} .docs-story`:\".sb-show-main\",isLayoutPadded=parameters2.layout===void 0||parameters2.layout===\"padded\",defaultOffset=viewMode===\"docs\"?20:isLayoutPadded?16:0,{cellAmount,cellSize,opacity,offsetX=defaultOffset,offsetY=defaultOffset}=grid,backgroundSelectorId=viewMode===\"docs\"?`${BG_SELECTOR_BASE}-docs-${id}`:`${BG_SELECTOR_BASE}-color`,backgroundTarget=viewMode===\"docs\"?id:null;useEffect(()=>{let backgroundStyles=`\n    ${backgroundSelector} {\n      background: ${value} !important;\n      ${transitionStyle}\n      }`;if(!shownBackground){clearStyles(backgroundSelectorId);return}addBackgroundStyle(backgroundSelectorId,backgroundStyles,backgroundTarget);},[backgroundSelector,backgroundSelectorId,backgroundTarget,shownBackground,value]);let gridSelectorId=viewMode===\"docs\"?`${GRID_SELECTOR_BASE}-docs-${id}`:`${GRID_SELECTOR_BASE}`;return useEffect(()=>{if(!showGrid){clearStyles(gridSelectorId);return}let gridSize=[`${cellSize*cellAmount}px ${cellSize*cellAmount}px`,`${cellSize*cellAmount}px ${cellSize*cellAmount}px`,`${cellSize}px ${cellSize}px`,`${cellSize}px ${cellSize}px`].join(\", \"),gridStyles=`\n        ${gridSelector} {\n          background-size: ${gridSize} !important;\n          background-position: ${offsetX}px ${offsetY}px, ${offsetX}px ${offsetY}px, ${offsetX}px ${offsetY}px, ${offsetX}px ${offsetY}px !important;\n          background-blend-mode: difference !important;\n          background-image: linear-gradient(rgba(130, 130, 130, ${opacity}) 1px, transparent 1px),\n           linear-gradient(90deg, rgba(130, 130, 130, ${opacity}) 1px, transparent 1px),\n           linear-gradient(rgba(130, 130, 130, ${opacity/2}) 1px, transparent 1px),\n           linear-gradient(90deg, rgba(130, 130, 130, ${opacity/2}) 1px, transparent 1px) !important;\n        }\n      `;addGridStyle(gridSelectorId,gridStyles);},[cellAmount,cellSize,gridSelector,gridSelectorId,showGrid,offsetX,offsetY,opacity]),StoryFn()};var getBackgroundColorByName=(currentSelectedValue,backgrounds=[],defaultName)=>{if(currentSelectedValue===\"transparent\")return \"transparent\";if(backgrounds.find(background=>background.value===currentSelectedValue)||currentSelectedValue)return currentSelectedValue;let defaultBackground=backgrounds.find(background=>background.name===defaultName);if(defaultBackground)return defaultBackground.value;if(defaultName){let availableColors=backgrounds.map(background=>background.name).join(\", \");logger.warn(dedent`\n        Backgrounds Addon: could not find the default color \"${defaultName}\".\n        These are the available colors for your story based on your configuration:\n        ${availableColors}.\n      `);}return \"transparent\"};var withBackground=(StoryFn,context)=>{let{globals,parameters:parameters2}=context,globalsBackgroundColor=globals[PARAM_KEY]?.value,backgroundsConfig=parameters2[PARAM_KEY],selectedBackgroundColor=useMemo(()=>backgroundsConfig.disable?\"transparent\":getBackgroundColorByName(globalsBackgroundColor,backgroundsConfig.values,backgroundsConfig.default),[backgroundsConfig,globalsBackgroundColor]),isActive=useMemo(()=>selectedBackgroundColor&&selectedBackgroundColor!==\"transparent\",[selectedBackgroundColor]),selector=context.viewMode===\"docs\"?`#anchor--${context.id} .docs-story`:\".sb-show-main\",backgroundStyles=useMemo(()=>`\n      ${selector} {\n        background: ${selectedBackgroundColor} !important;\n        ${isReduceMotionEnabled()?\"\":\"transition: background-color 0.3s;\"}\n      }\n    `,[selectedBackgroundColor,selector]);return useEffect(()=>{let selectorId=context.viewMode===\"docs\"?`addon-backgrounds-docs-${context.id}`:\"addon-backgrounds-color\";if(!isActive){clearStyles(selectorId);return}addBackgroundStyle(selectorId,backgroundStyles,context.viewMode===\"docs\"?context.id:null);},[isActive,backgroundStyles,context]),StoryFn()};var withGrid=(StoryFn,context)=>{let{globals,parameters:parameters2}=context,gridParameters=parameters2[PARAM_KEY].grid,isActive=globals[PARAM_KEY]?.grid===!0&&gridParameters.disable!==!0,{cellAmount,cellSize,opacity}=gridParameters,isInDocs=context.viewMode===\"docs\",defaultOffset=parameters2.layout===void 0||parameters2.layout===\"padded\"?16:0,offsetX=gridParameters.offsetX??(isInDocs?20:defaultOffset),offsetY=gridParameters.offsetY??(isInDocs?20:defaultOffset),gridStyles=useMemo(()=>{let selector=context.viewMode===\"docs\"?`#anchor--${context.id} .docs-story`:\".sb-show-main\",backgroundSize=[`${cellSize*cellAmount}px ${cellSize*cellAmount}px`,`${cellSize*cellAmount}px ${cellSize*cellAmount}px`,`${cellSize}px ${cellSize}px`,`${cellSize}px ${cellSize}px`].join(\", \");return `\n      ${selector} {\n        background-size: ${backgroundSize} !important;\n        background-position: ${offsetX}px ${offsetY}px, ${offsetX}px ${offsetY}px, ${offsetX}px ${offsetY}px, ${offsetX}px ${offsetY}px !important;\n        background-blend-mode: difference !important;\n        background-image: linear-gradient(rgba(130, 130, 130, ${opacity}) 1px, transparent 1px),\n         linear-gradient(90deg, rgba(130, 130, 130, ${opacity}) 1px, transparent 1px),\n         linear-gradient(rgba(130, 130, 130, ${opacity/2}) 1px, transparent 1px),\n         linear-gradient(90deg, rgba(130, 130, 130, ${opacity/2}) 1px, transparent 1px) !important;\n      }\n    `},[cellSize]);return useEffect(()=>{let selectorId=context.viewMode===\"docs\"?`addon-backgrounds-grid-docs-${context.id}`:\"addon-backgrounds-grid\";if(!isActive){clearStyles(selectorId);return}addGridStyle(selectorId,gridStyles);},[isActive,gridStyles,context]),StoryFn()};var decorators=FEATURES?.backgroundsStoryGlobals?[withBackgroundAndGrid]:[withGrid,withBackground],parameters={[PARAM_KEY]:{grid:{cellSize:20,opacity:.5,cellAmount:5},disable:!1,...!FEATURES?.backgroundsStoryGlobals&&{values:Object.values(DEFAULT_BACKGROUNDS)}}},modern={[PARAM_KEY]:{value:void 0,grid:!1}},initialGlobals=FEATURES?.backgroundsStoryGlobals?modern:{[PARAM_KEY]:null};\n\nexport { decorators, initialGlobals, parameters };\n"],"names":["useEffect","useMemo","global","logger","PARAM_KEY","DEFAULT_BACKGROUNDS","document","window","isReduceMotionEnabled","_a","clearStyles","selector","clearStyle","element","addGridStyle","css","existingStyle","style","addBackgroundStyle","storyId","gridStyleSelector","existingGridStyle","defaultGrid","BG_SELECTOR_BASE","GRID_SELECTOR_BASE","transitionStyle","withBackgroundAndGrid","StoryFn","context","globals","parameters2","viewMode","id","options","disable","grid","data","backgroundName","item","value","showGrid","shownBackground","backgroundSelector","gridSelector","isLayoutPadded","defaultOffset","cellAmount","cellSize","opacity","offsetX","offsetY","backgroundSelectorId","backgroundTarget","backgroundStyles","gridSelectorId","gridSize","gridStyles","getBackgroundColorByName","currentSelectedValue","backgrounds","defaultName","background","defaultBackground","availableColors","dedent","withBackground","globalsBackgroundColor","backgroundsConfig","selectedBackgroundColor","isActive","selectorId","withGrid","gridParameters","isInDocs","backgroundSize","decorators","parameters","modern","initialGlobals"],"mappings":"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","x_google_ignoreList":[0]}